-- *******************************************************************************
-- FileName:             NVWB_INV_Serial_Number_Trans.sql
--
-- Date Created:         2019/Aug/28 06:12:39
-- Created By:           nemuser
--
-- Source:
-- - Package:            Package_2018_P11_B1_DEV_NEW
-- - Environment:        EBSPJD1
-- - NoetixViews Schema: NOETIX_VIEWS
--
-- Versions:
-- - Oracle EBS:   12.1.3
-- - Oracle DB:    11.2.0
-- - NoetixViews:  6.5.1
--
-- *******************************************************************************
-- output to NVWB_INV_Serial_Number_Trans.lst file

@utlspon NVWB_INV_Serial_Number_Trans

-- *******************************************************************************
-- Revision Number: 9
-- *******************************************************************************

SET DEFINE OFF;
WHENEVER SQLERROR EXIT 1115;

INSERT INTO n_view_table_templates(
      view_label,
      query_position,
      table_alias,
      from_clause_position,
      application_label,
      table_name,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      base_table_flag,
      key_view_label,
      subquery_flag,
      created_by,
      last_updated_by,
      gen_search_by_col_flag
   ) VALUES (
      'INV_Serial_Number_Trans',
      1.0,
      'CQL',
      12.0,
      'BOM',
      'CST_QUANTITY_LAYERS',
      null,
      '%',
      'Y',
      'Y',
      'N',
      null,
      'N',
      'nemuser',
      'nemuser',
      'N'
   );

INSERT INTO n_view_table_templates(
      view_label,
      query_position,
      table_alias,
      from_clause_position,
      application_label,
      table_name,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      base_table_flag,
      key_view_label,
      subquery_flag,
      created_by,
      last_updated_by,
      gen_search_by_col_flag
   ) VALUES (
      'INV_Serial_Number_Trans',
      1.0,
      'FUSER',
      13.0,
      'FND',
      'FND_USER',
      null,
      '%',
      'Y',
      'Y',
      'N',
      null,
      'N',
      'nemuser',
      'nemuser',
      'N'
   );

INSERT INTO n_view_table_templates(
      view_label,
      query_position,
      table_alias,
      from_clause_position,
      application_label,
      table_name,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      base_table_flag,
      key_view_label,
      subquery_flag,
      created_by,
      last_updated_by,
      gen_search_by_col_flag
   ) VALUES (
      'INV_Serial_Number_Trans',
      1.0,
      'CCG',
      11.0,
      'BOM',
      'CST_COST_GROUPS',
      null,
      '%',
      'Y',
      'Y',
      'N',
      null,
      'N',
      'nemuser',
      'nemuser',
      'N'
   );

UPDATE n_view_column_templates
   SET view_label = 'INV_Serial_Number_Trans',
       query_position = 1.0,
       column_label = 'Loc_Xfer',
       table_alias = 'MATTR',
       column_expression = 'TRANSFER_LOCATOR_ID',
       column_position = 34.0,
       column_type = 'KEY',
       description = 'Transfer transaction opposing locator',
       ref_application_label = 'INV',
       ref_table_name = 'MTL_ITEM_LOCATIONS',
       key_view_label = null,
       ref_lookup_column_name = 'INVENTORY_LOCATION_ID',
       ref_description_column_name = null,
       ref_lookup_type = null,
       id_flex_application_id = '401',
       id_flex_code = 'MTLL',
       group_by_flag = 'N',
       format_mask = null,
       format_class = 'STRING',
       gen_search_by_col_flag = 'N',
       lov_view_label = 'INV_Lov_Location_Flexfields',
       lov_column_label = 'Locator',
       profile_option = 'INV_GLOBAL',
       product_version = '10.0+',
       include_flag = 'Y',
       user_include_flag = 'Y',
       last_updated_by = 'nemuser',
       last_update_date = TO_DATE('2016-05-21 04:30:37','YYYY-MM-DD HH24:MI:SS')
 WHERE t_column_id = 115579;


INSERT INTO n_view_property_templates(
      view_label,
      query_position,
      property_type_id,
      t_source_pk_id,
      value1,
      value2,
      value3,
      value4,
      value5,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      version_id,
      created_by,
      last_updated_by
   ) VALUES (
      'INV_Serial_Number_Trans',
      1.0,
      13,
      115579,
      null,
      null,
      null,
      null,
      null,
      null,
      '10.0+',
      'Y',
      null,
      null,
      'nemuser',
      'nemuser'
   );



UPDATE n_view_column_templates
   SET view_label = 'INV_Serial_Number_Trans',
       query_position = 1.0,
       column_label = 'Locator',
       table_alias = 'MATTR',
       column_expression = 'LOCATOR_ID',
       column_position = 8.0,
       column_type = 'KEY',
       description = 'Stock locator within a subinventory, Custom Field Added by Zensar',
       ref_application_label = 'INV',
       ref_table_name = 'MTL_ITEM_LOCATIONS',
       key_view_label = null,
       ref_lookup_column_name = 'INVENTORY_LOCATION_ID',
       ref_description_column_name = null,
       ref_lookup_type = null,
       id_flex_application_id = '401',
       id_flex_code = 'MTLL',
       group_by_flag = 'N',
       format_mask = null,
       format_class = 'STRING',
       gen_search_by_col_flag = 'N',
       lov_view_label = 'INV_Lov_Location_Flexfields',
       lov_column_label = 'Locator',
       profile_option = null,
       product_version = '10.0+',
       include_flag = 'Y',
       user_include_flag = 'Y',
       last_updated_by = 'nemuser',
       last_update_date = TO_DATE('2016-05-21 04:30:37','YYYY-MM-DD HH24:MI:SS')
 WHERE t_column_id = 33093;


INSERT INTO n_view_property_templates(
      view_label,
      query_position,
      property_type_id,
      t_source_pk_id,
      value1,
      value2,
      value3,
      value4,
      value5,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      version_id,
      created_by,
      last_updated_by
   ) VALUES (
      'INV_Serial_Number_Trans',
      1.0,
      13,
      33093,
      null,
      null,
      null,
      null,
      null,
      null,
      '10.0+',
      'Y',
      null,
      null,
      'nemuser',
      'nemuser'
   );



INSERT INTO n_view_column_templates(
      view_label,
      query_position,
      column_label,
      table_alias,
      column_expression,
      column_position,
      column_type,
      description,
      ref_application_label,
      ref_table_name,
      key_view_label,
      ref_lookup_column_name,
      ref_description_column_name,
      ref_lookup_type,
      id_flex_application_id,
      id_flex_code,
      group_by_flag,
      format_mask,
      format_class,
      gen_search_by_col_flag,
      lov_view_label,
      lov_column_label,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      created_by,
      last_updated_by
   ) VALUES (
      'INV_Serial_Number_Trans',
      1.0,
      'Locator_KFF',
      null,
      '(Locator.segment1||''.''|| (select segment1 from PA.PA_PROJECTS_ALL where project_id=Locator.segment19) ||''.''|| (select task_number from PA.pa_tasks where task_id=Locator.segment20))',
      10.200001,
      'EXPR',
      'Locatror flexfield. Custom Field added by Zensar.',
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      'N',
      null,
      'STRING',
      'N',
      null,
      null,
      null,
      '*',
      'Y',
      'Y',
      'nemuser',
      'nemuser'
   );


INSERT INTO n_view_column_templates(
      view_label,
      query_position,
      column_label,
      table_alias,
      column_expression,
      column_position,
      column_type,
      description,
      ref_application_label,
      ref_table_name,
      key_view_label,
      ref_lookup_column_name,
      ref_description_column_name,
      ref_lookup_type,
      id_flex_application_id,
      id_flex_code,
      group_by_flag,
      format_mask,
      format_class,
      gen_search_by_col_flag,
      lov_view_label,
      lov_column_label,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      created_by,
      last_updated_by
   ) VALUES (
      'INV_Serial_Number_Trans',
      1.0,
      'Cost_Group_Item_Cost',
      'CQL',
      'ITEM_COST',
      10.700003,
      'COL',
      'Item cost of the cost group. Custom field added by Zensar.',
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      'N',
      null,
      'STRING',
      'N',
      null,
      null,
      null,
      '*',
      'Y',
      'Y',
      'nemuser',
      'nemuser'
   );


INSERT INTO n_view_column_templates(
      view_label,
      query_position,
      column_label,
      table_alias,
      column_expression,
      column_position,
      column_type,
      description,
      ref_application_label,
      ref_table_name,
      key_view_label,
      ref_lookup_column_name,
      ref_description_column_name,
      ref_lookup_type,
      id_flex_application_id,
      id_flex_code,
      group_by_flag,
      format_mask,
      format_class,
      gen_search_by_col_flag,
      lov_view_label,
      lov_column_label,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      created_by,
      last_updated_by
   ) VALUES (
      'INV_Serial_Number_Trans',
      1.0,
      'Receipt_Number',
      null,
      '(SELECT rsh.receipt_num    FROM po.rcv_shipment_lines rsl,         po.rcv_shipment_headers rsh,         po.rcv_transactions rt   WHERE     rsh.shipment_header_id = rsl.shipment_header_id         AND rsl.shipment_line_id = rt.shipment_line_id         AND rt.transaction_id = mattr.rcv_transaction_id)',
      11.000004,
      'EXPR',
      'Receipt number. Custom field added by Zensar.',
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      'N',
      null,
      'STRING',
      'N',
      null,
      null,
      null,
      '*',
      'Y',
      'Y',
      'nemuser',
      'nemuser'
   );


INSERT INTO n_view_column_templates(
      view_label,
      query_position,
      column_label,
      table_alias,
      column_expression,
      column_position,
      column_type,
      description,
      ref_application_label,
      ref_table_name,
      key_view_label,
      ref_lookup_column_name,
      ref_description_column_name,
      ref_lookup_type,
      id_flex_application_id,
      id_flex_code,
      group_by_flag,
      format_mask,
      format_class,
      gen_search_by_col_flag,
      lov_view_label,
      lov_column_label,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      created_by,
      last_updated_by
   ) VALUES (
      'INV_Serial_Number_Trans',
      1.0,
      'Transaction_Source',
      null,
      'NOETIX_VSAT_UTILITY_PKG.GetTransSourceAll (              UPPER (                 DECODE (MATTR.TRANSACTION_SOURCE_TYPE_ID,                         ''1'', ''Purchase order'',                         ''10'', ''Physical Inventory'',                         ''103'', ''{Found *''''******''''* *''''******''''* }'',                         ''11'', ''Standard cost update'',                         ''12'', ''RMA'',                         ''120'', ''{LIFO-Transaction *''''******''''* }'',                         ''13'', ''Inventory'',                         ''14'', ''Periodic Cost Update'',                         ''140'', ''{LIFO_TEST1 *''''******''''* *''''****}'',                         ''15'', ''Layer Cost Update'',                         ''16'', ''Project Contract'',                         ''160'', ''{INCR_TEST1 *''''******''''* *''''****}'',                         ''17'', ''External Requisition'',                         ''180'', ''{Temp-Test *''''******''''* *''''*****}'',                         ''2'', ''Sales order'',                         ''201'', ''{test *''''******''''* *''''******''''* *}'',                         ''221'', ''{NL Issue to Project *''''******}'',                         ''240'', ''{Order Capture *''''******''''* *''''*}'',                         ''260'', ''PutAway'',                         ''281'', ''PICK'',                         ''3'', ''Account'',                         ''300'', ''Consignment'',                         ''320'', ''Mobile Field Service'',                         ''4'', ''Move order'',                         ''5'', ''Job or Schedule'',                         ''6'', ''Account alias'',                         ''7'', ''Internal requisition'',                         ''8'', ''Internal order'',                         ''9'', ''Cycle Count'',                         MATTR.TRANSACTION_SOURCE_TYPE_ID)),              mattr.transaction_source_id,              MPARM.ORGANIZATION_ID)',
      10.500002,
      'EXPR',
      'Transaction source. Custom Field added  by Zensar.',
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      'N',
      null,
      'STRING',
      'N',
      null,
      null,
      null,
      '*',
      'Y',
      'Y',
      'nemuser',
      'nemuser'
   );


INSERT INTO n_view_column_templates(
      view_label,
      query_position,
      column_label,
      table_alias,
      column_expression,
      column_position,
      column_type,
      description,
      ref_application_label,
      ref_table_name,
      key_view_label,
      ref_lookup_column_name,
      ref_description_column_name,
      ref_lookup_type,
      id_flex_application_id,
      id_flex_code,
      group_by_flag,
      format_mask,
      format_class,
      gen_search_by_col_flag,
      lov_view_label,
      lov_column_label,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      created_by,
      last_updated_by
   ) VALUES (
      'INV_Serial_Number_Trans',
      1.0,
      'Created_By',
      'FUSER',
      'USER_NAME',
      11.100004,
      'COL',
      'Created by user name. Custom field added by Zensar.',
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      'N',
      null,
      'STRING',
      'N',
      null,
      null,
      null,
      '*',
      'Y',
      'Y',
      'nemuser',
      'nemuser'
   );


INSERT INTO n_view_column_templates(
      view_label,
      query_position,
      column_label,
      table_alias,
      column_expression,
      column_position,
      column_type,
      description,
      ref_application_label,
      ref_table_name,
      key_view_label,
      ref_lookup_column_name,
      ref_description_column_name,
      ref_lookup_type,
      id_flex_application_id,
      id_flex_code,
      group_by_flag,
      format_mask,
      format_class,
      gen_search_by_col_flag,
      lov_view_label,
      lov_column_label,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      created_by,
      last_updated_by
   ) VALUES (
      'INV_Serial_Number_Trans',
      1.0,
      'Loc_Xfer_Kff',
      null,
      '(Loc_Xfer.segment1||''.''|| (select segment1 from PA.PA_PROJECTS_ALL where project_id=Loc_Xfer.segment19) ||''.''|| (select task_number from PA.pa_tasks where task_id=Loc_Xfer.segment20))',
      10.300001,
      'EXPR',
      'Transfer locator flexfield. Custom Field added by Zensar.',
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      'N',
      null,
      'STRING',
      'N',
      null,
      null,
      null,
      '*',
      'Y',
      'Y',
      'nemuser',
      'nemuser'
   );


INSERT INTO n_view_column_templates(
      view_label,
      query_position,
      column_label,
      table_alias,
      column_expression,
      column_position,
      column_type,
      description,
      ref_application_label,
      ref_table_name,
      key_view_label,
      ref_lookup_column_name,
      ref_description_column_name,
      ref_lookup_type,
      id_flex_application_id,
      id_flex_code,
      group_by_flag,
      format_mask,
      format_class,
      gen_search_by_col_flag,
      lov_view_label,
      lov_column_label,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      created_by,
      last_updated_by
   ) VALUES (
      'INV_Serial_Number_Trans',
      1.0,
      'Customer_Name',
      null,
      '(NOETIX_VSAT_UTILITY_PKG.GETTXNCUSTOMERNAME(mut.transaction_id,                                                           mut.transaction_source_id,                                                           mut.serial_number,                                                           (select UPPER(A.TRANSACTION_SOURCE_TYPE_NAME) from INV.MTL_TXN_SOURCE_TYPES a where A.TRANSACTION_SOURCE_TYPE_ID=                                       MUT.TRANSACTION_SOURCE_TYPE_ID  )))',
      10.1,
      'EXPR',
      'Based on transactional source type customer name is derived. Custom Field Added by Zensar.',
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      'N',
      null,
      'STRING',
      'N',
      null,
      null,
      null,
      '*',
      'Y',
      'Y',
      'dpagadala',
      'nemuser'
   );


INSERT INTO n_view_column_templates(
      view_label,
      query_position,
      column_label,
      table_alias,
      column_expression,
      column_position,
      column_type,
      description,
      ref_application_label,
      ref_table_name,
      key_view_label,
      ref_lookup_column_name,
      ref_description_column_name,
      ref_lookup_type,
      id_flex_application_id,
      id_flex_code,
      group_by_flag,
      format_mask,
      format_class,
      gen_search_by_col_flag,
      lov_view_label,
      lov_column_label,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      created_by,
      last_updated_by
   ) VALUES (
      'INV_Serial_Number_Trans',
      1.0,
      'Serial_Time_In_Loc',
      null,
      'NOETIX_VSAT_UTILITY_PKG.SERIAL_TIME_IN_LOCATION(MUT.SERIAL_NUMBER, MUT.TRANSACTION_ID, MUT.INVENTORY_ITEM_ID)',
      10.800003,
      'EXPR',
      'Serial time in loc. Custom field added by Zensar.',
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      'N',
      null,
      'STRING',
      'N',
      null,
      null,
      null,
      '*',
      'Y',
      'Y',
      'nemuser',
      'nemuser'
   );


INSERT INTO n_view_column_templates(
      view_label,
      query_position,
      column_label,
      table_alias,
      column_expression,
      column_position,
      column_type,
      description,
      ref_application_label,
      ref_table_name,
      key_view_label,
      ref_lookup_column_name,
      ref_description_column_name,
      ref_lookup_type,
      id_flex_application_id,
      id_flex_code,
      group_by_flag,
      format_mask,
      format_class,
      gen_search_by_col_flag,
      lov_view_label,
      lov_column_label,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      created_by,
      last_updated_by
   ) VALUES (
      'INV_Serial_Number_Trans',
      1.0,
      'Shipment_Number',
      'MATTR',
      'SHIPMENT_NUMBER',
      10.900003,
      'COL',
      'Shipment number. Custom field added by Zensar.',
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      'N',
      null,
      'STRING',
      'N',
      null,
      null,
      null,
      '*',
      'Y',
      'Y',
      'nemuser',
      'nemuser'
   );


INSERT INTO n_view_column_templates(
      view_label,
      query_position,
      column_label,
      table_alias,
      column_expression,
      column_position,
      column_type,
      description,
      ref_application_label,
      ref_table_name,
      key_view_label,
      ref_lookup_column_name,
      ref_description_column_name,
      ref_lookup_type,
      id_flex_application_id,
      id_flex_code,
      group_by_flag,
      format_mask,
      format_class,
      gen_search_by_col_flag,
      lov_view_label,
      lov_column_label,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      created_by,
      last_updated_by
   ) VALUES (
      'INV_Serial_Number_Trans',
      1.0,
      'Cost_Group',
      'CCG',
      'COST_GROUP',
      10.600002,
      'COL',
      'Cost group. Custom field added by Zensar.',
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      'N',
      null,
      'STRING',
      'N',
      null,
      null,
      null,
      '*',
      'Y',
      'Y',
      'nemuser',
      'nemuser'
   );


INSERT INTO n_view_column_templates(
      view_label,
      query_position,
      column_label,
      table_alias,
      column_expression,
      column_position,
      column_type,
      description,
      ref_application_label,
      ref_table_name,
      key_view_label,
      ref_lookup_column_name,
      ref_description_column_name,
      ref_lookup_type,
      id_flex_application_id,
      id_flex_code,
      group_by_flag,
      format_mask,
      format_class,
      gen_search_by_col_flag,
      lov_view_label,
      lov_column_label,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      created_by,
      last_updated_by
   ) VALUES (
      'INV_Serial_Number_Trans',
      1.0,
      'MAC_Address',
      null,
      '(select NVL(msn.attribute1, msn.c_attribute4) mac from inv.mtl_serial_numbers msn where mut.serial_number = msn.serial_number and mut.inventory_item_id = msn.inventory_item_id) ',
      10.400002,
      'EXPR',
      'MAC address. Custom Field added by Zensar.',
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      'N',
      null,
      'STRING',
      'N',
      null,
      null,
      null,
      '*',
      'Y',
      'Y',
      'nemuser',
      'nemuser'
   );


INSERT INTO n_view_where_templates(
      view_label,
      query_position,
      where_clause_position,
      where_clause,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      created_by,
      last_updated_by
   ) VALUES (
      'INV_Serial_Number_Trans',
      1.0,
      22.0,
      'AND MUT.CREATED_BY = FUSER.USER_ID(+)',
      null,
      null,
      'Y',
      'Y',
      'nemuser',
      'nemuser'
   );

INSERT INTO n_view_where_templates(
      view_label,
      query_position,
      where_clause_position,
      where_clause,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      created_by,
      last_updated_by
   ) VALUES (
      'INV_Serial_Number_Trans',
      1.0,
      21.0,
      'AND MATTR.COST_GROUP_ID = CQL.COST_GROUP_ID (+) AND MATTR.INVENTORY_ITEM_ID = CQL.INVENTORY_ITEM_ID (+) AND MATTR.ORGANIZATION_ID = CQL.ORGANIZATION_ID (+)',
      null,
      null,
      'Y',
      'Y',
      'nemuser',
      'nemuser'
   );

INSERT INTO n_view_where_templates(
      view_label,
      query_position,
      where_clause_position,
      where_clause,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      created_by,
      last_updated_by
   ) VALUES (
      'INV_Serial_Number_Trans',
      1.0,
      20.0,
      'AND MATTR.COST_GROUP_ID = CCG.COST_GROUP_ID (+)',
      null,
      null,
      'Y',
      'Y',
      'nemuser',
      'nemuser'
   );



INSERT INTO n_view_table_templates(
      view_label,
      query_position,
      table_alias,
      from_clause_position,
      application_label,
      table_name,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      base_table_flag,
      key_view_label,
      subquery_flag,
      created_by,
      last_updated_by,
      gen_search_by_col_flag
   ) VALUES (
      'INV_Serial_Number_Trans',
      2.0,
      'FUSER',
      14.0,
      'FND',
      'FND_USER',
      null,
      '%',
      'Y',
      'Y',
      'N',
      null,
      'N',
      'nemuser',
      'nemuser',
      'N'
   );

INSERT INTO n_view_table_templates(
      view_label,
      query_position,
      table_alias,
      from_clause_position,
      application_label,
      table_name,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      base_table_flag,
      key_view_label,
      subquery_flag,
      created_by,
      last_updated_by,
      gen_search_by_col_flag
   ) VALUES (
      'INV_Serial_Number_Trans',
      2.0,
      'CCG',
      12.0,
      'BOM',
      'CST_COST_GROUPS',
      null,
      '%',
      'Y',
      'Y',
      'N',
      null,
      'N',
      'nemuser',
      'nemuser',
      'N'
   );

INSERT INTO n_view_table_templates(
      view_label,
      query_position,
      table_alias,
      from_clause_position,
      application_label,
      table_name,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      base_table_flag,
      key_view_label,
      subquery_flag,
      created_by,
      last_updated_by,
      gen_search_by_col_flag
   ) VALUES (
      'INV_Serial_Number_Trans',
      2.0,
      'CQL',
      13.0,
      'BOM',
      'CST_QUANTITY_LAYERS',
      null,
      '%',
      'Y',
      'Y',
      'N',
      null,
      'N',
      'nemuser',
      'nemuser',
      'N'
   );

UPDATE n_view_column_templates
   SET view_label = 'INV_Serial_Number_Trans',
       query_position = 2.0,
       column_label = 'Loc_Xfer',
       table_alias = 'MATTR',
       column_expression = 'TRANSFER_LOCATOR_ID',
       column_position = 25.0,
       column_type = 'KEY',
       description = 'Transfer transaction opposing locator',
       ref_application_label = 'INV',
       ref_table_name = 'MTL_ITEM_LOCATIONS',
       key_view_label = null,
       ref_lookup_column_name = 'INVENTORY_LOCATION_ID',
       ref_description_column_name = null,
       ref_lookup_type = null,
       id_flex_application_id = '401',
       id_flex_code = 'MTLL',
       group_by_flag = 'N',
       format_mask = null,
       format_class = 'STRING',
       gen_search_by_col_flag = 'N',
       lov_view_label = 'INV_Lov_Location_Flexfields',
       lov_column_label = 'Locator',
       profile_option = 'INV_GLOBAL',
       product_version = '10.0+',
       include_flag = 'Y',
       user_include_flag = 'Y',
       last_updated_by = 'nemuser',
       last_update_date = TO_DATE('2016-05-21 04:30:37','YYYY-MM-DD HH24:MI:SS')
 WHERE t_column_id = 115580;


DELETE 
  FROM n_view_property_templates
  WHERE t_view_property_id = 121;

INSERT INTO n_view_property_templates(
      view_label,
      query_position,
      property_type_id,
      t_source_pk_id,
      value1,
      value2,
      value3,
      value4,
      value5,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      version_id,
      created_by,
      last_updated_by
   ) VALUES (
      'INV_Serial_Number_Trans',
      2.0,
      13,
      115580,
      null,
      null,
      null,
      null,
      null,
      null,
      '10.0+',
      'Y',
      null,
      null,
      'nemuser',
      'nemuser'
   );

INSERT INTO n_view_property_templates(
      view_label,
      query_position,
      property_type_id,
      t_source_pk_id,
      value1,
      value2,
      value3,
      value4,
      value5,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      version_id,
      created_by,
      last_updated_by
   ) VALUES (
      'INV_Serial_Number_Trans',
      1.0,
      19,
      115580,
      'Y',
      'Trans_Loc',
      'N',
      null,
      null,
      null,
      '*',
      'Y',
      null,
      null,
      'NOETIX',
      'nemuser'
   );



UPDATE n_view_column_templates
   SET view_label = 'INV_Serial_Number_Trans',
       query_position = 2.0,
       column_label = 'Locator',
       table_alias = 'MATTR',
       column_expression = 'LOCATOR_ID',
       column_position = 6.0,
       column_type = 'KEY',
       description = 'Stock locator within a subinventory, Custom Field Added by Zensar',
       ref_application_label = 'INV',
       ref_table_name = 'MTL_ITEM_LOCATIONS',
       key_view_label = null,
       ref_lookup_column_name = 'INVENTORY_LOCATION_ID',
       ref_description_column_name = null,
       ref_lookup_type = null,
       id_flex_application_id = '401',
       id_flex_code = 'MTLL',
       group_by_flag = 'N',
       format_mask = null,
       format_class = 'STRING',
       gen_search_by_col_flag = 'N',
       lov_view_label = 'INV_Lov_Location_Flexfields',
       lov_column_label = 'Locator',
       profile_option = null,
       product_version = '10.0+',
       include_flag = 'Y',
       user_include_flag = 'Y',
       last_updated_by = 'nemuser',
       last_update_date = TO_DATE('2016-05-21 04:30:37','YYYY-MM-DD HH24:MI:SS')
 WHERE t_column_id = 33008;


DELETE 
  FROM n_view_property_templates
  WHERE t_view_property_id = 515;

INSERT INTO n_view_property_templates(
      view_label,
      query_position,
      property_type_id,
      t_source_pk_id,
      value1,
      value2,
      value3,
      value4,
      value5,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      version_id,
      created_by,
      last_updated_by
   ) VALUES (
      'INV_Serial_Number_Trans',
      1.0,
      19,
      33008,
      'Y',
      'Locator',
      'N',
      null,
      null,
      null,
      '*',
      'Y',
      null,
      null,
      'NOETIX',
      'nemuser'
   );

INSERT INTO n_view_property_templates(
      view_label,
      query_position,
      property_type_id,
      t_source_pk_id,
      value1,
      value2,
      value3,
      value4,
      value5,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      version_id,
      created_by,
      last_updated_by
   ) VALUES (
      'INV_Serial_Number_Trans',
      2.0,
      13,
      33008,
      null,
      null,
      null,
      null,
      null,
      null,
      '10.0+',
      'Y',
      null,
      null,
      'nemuser',
      'nemuser'
   );



INSERT INTO n_view_column_templates(
      view_label,
      query_position,
      column_label,
      table_alias,
      column_expression,
      column_position,
      column_type,
      description,
      ref_application_label,
      ref_table_name,
      key_view_label,
      ref_lookup_column_name,
      ref_description_column_name,
      ref_lookup_type,
      id_flex_application_id,
      id_flex_code,
      group_by_flag,
      format_mask,
      format_class,
      gen_search_by_col_flag,
      lov_view_label,
      lov_column_label,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      created_by,
      last_updated_by
   ) VALUES (
      'INV_Serial_Number_Trans',
      2.0,
      'Loc_Xfer_Kff',
      null,
      '(Loc_Xfer.segment1||''.''|| (select segment1 from PA.PA_PROJECTS_ALL where project_id=Loc_Xfer.segment19) ||''.''|| (select task_number from PA.pa_tasks where task_id=Loc_Xfer.segment20))',
      10.200001,
      'EXPR',
      'Transfer locator flexfield. Custom Field added by Zensar.',
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      'N',
      null,
      'STRING',
      'N',
      null,
      null,
      null,
      '*',
      'Y',
      'Y',
      'nemuser',
      'nemuser'
   );


INSERT INTO n_view_column_templates(
      view_label,
      query_position,
      column_label,
      table_alias,
      column_expression,
      column_position,
      column_type,
      description,
      ref_application_label,
      ref_table_name,
      key_view_label,
      ref_lookup_column_name,
      ref_description_column_name,
      ref_lookup_type,
      id_flex_application_id,
      id_flex_code,
      group_by_flag,
      format_mask,
      format_class,
      gen_search_by_col_flag,
      lov_view_label,
      lov_column_label,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      created_by,
      last_updated_by
   ) VALUES (
      'INV_Serial_Number_Trans',
      2.0,
      'Cost_Group_Item_Cost',
      'CQL',
      'ITEM_COST',
      10.600002,
      'COL',
      'Item cost of the cost group. Custom field added by Zensar.',
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      'N',
      null,
      'STRING',
      'N',
      null,
      null,
      null,
      '*',
      'Y',
      'Y',
      'nemuser',
      'nemuser'
   );


INSERT INTO n_view_column_templates(
      view_label,
      query_position,
      column_label,
      table_alias,
      column_expression,
      column_position,
      column_type,
      description,
      ref_application_label,
      ref_table_name,
      key_view_label,
      ref_lookup_column_name,
      ref_description_column_name,
      ref_lookup_type,
      id_flex_application_id,
      id_flex_code,
      group_by_flag,
      format_mask,
      format_class,
      gen_search_by_col_flag,
      lov_view_label,
      lov_column_label,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      created_by,
      last_updated_by
   ) VALUES (
      'INV_Serial_Number_Trans',
      2.0,
      'Cost_Group',
      'CCG',
      'COST_GROUP',
      10.500002,
      'COL',
      'Cost group. Custom field added by Zensar.',
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      'N',
      null,
      'STRING',
      'N',
      null,
      null,
      null,
      '*',
      'Y',
      'Y',
      'nemuser',
      'nemuser'
   );


INSERT INTO n_view_column_templates(
      view_label,
      query_position,
      column_label,
      table_alias,
      column_expression,
      column_position,
      column_type,
      description,
      ref_application_label,
      ref_table_name,
      key_view_label,
      ref_lookup_column_name,
      ref_description_column_name,
      ref_lookup_type,
      id_flex_application_id,
      id_flex_code,
      group_by_flag,
      format_mask,
      format_class,
      gen_search_by_col_flag,
      lov_view_label,
      lov_column_label,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      created_by,
      last_updated_by
   ) VALUES (
      'INV_Serial_Number_Trans',
      2.0,
      'Created_By',
      'FUSER',
      'USER_NAME',
      11.000004,
      'COL',
      'Created by user name. Custom field added by Zensar.',
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      'N',
      null,
      'STRING',
      'N',
      null,
      null,
      null,
      '*',
      'Y',
      'Y',
      'nemuser',
      'nemuser'
   );


INSERT INTO n_view_column_templates(
      view_label,
      query_position,
      column_label,
      table_alias,
      column_expression,
      column_position,
      column_type,
      description,
      ref_application_label,
      ref_table_name,
      key_view_label,
      ref_lookup_column_name,
      ref_description_column_name,
      ref_lookup_type,
      id_flex_application_id,
      id_flex_code,
      group_by_flag,
      format_mask,
      format_class,
      gen_search_by_col_flag,
      lov_view_label,
      lov_column_label,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      created_by,
      last_updated_by
   ) VALUES (
      'INV_Serial_Number_Trans',
      2.0,
      'Customer_Name',
      null,
      '(NOETIX_VSAT_UTILITY_PKG.GETTXNCUSTOMERNAME(mut.transaction_id,                                                           mut.transaction_source_id,                                                           mut.serial_number,                                                           (select UPPER(A.TRANSACTION_SOURCE_TYPE_NAME) from INV.MTL_TXN_SOURCE_TYPES a where A.TRANSACTION_SOURCE_TYPE_ID=                                       MUT.TRANSACTION_SOURCE_TYPE_ID  )))',
      10.0,
      'EXPR',
      'Based on transactional source type customer name is derived. Custom Field Added by Zensar.',
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      'N',
      null,
      'STRING',
      'N',
      null,
      null,
      null,
      '*',
      'Y',
      'Y',
      'dpagadala',
      'nemuser'
   );


INSERT INTO n_view_column_templates(
      view_label,
      query_position,
      column_label,
      table_alias,
      column_expression,
      column_position,
      column_type,
      description,
      ref_application_label,
      ref_table_name,
      key_view_label,
      ref_lookup_column_name,
      ref_description_column_name,
      ref_lookup_type,
      id_flex_application_id,
      id_flex_code,
      group_by_flag,
      format_mask,
      format_class,
      gen_search_by_col_flag,
      lov_view_label,
      lov_column_label,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      created_by,
      last_updated_by
   ) VALUES (
      'INV_Serial_Number_Trans',
      2.0,
      'Locator_KFF',
      null,
      '(Locator.segment1||''.''|| (select segment1 from PA.PA_PROJECTS_ALL where project_id=Locator.segment19) ||''.''|| (select task_number from PA.pa_tasks where task_id=Locator.segment20))',
      10.1,
      'EXPR',
      'Locatror flexfield. Custom Field added by Zensar.',
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      'N',
      null,
      'STRING',
      'N',
      null,
      null,
      null,
      '*',
      'Y',
      'Y',
      'nemuser',
      'nemuser'
   );


INSERT INTO n_view_column_templates(
      view_label,
      query_position,
      column_label,
      table_alias,
      column_expression,
      column_position,
      column_type,
      description,
      ref_application_label,
      ref_table_name,
      key_view_label,
      ref_lookup_column_name,
      ref_description_column_name,
      ref_lookup_type,
      id_flex_application_id,
      id_flex_code,
      group_by_flag,
      format_mask,
      format_class,
      gen_search_by_col_flag,
      lov_view_label,
      lov_column_label,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      created_by,
      last_updated_by
   ) VALUES (
      'INV_Serial_Number_Trans',
      2.0,
      'Serial_Time_In_Loc',
      null,
      'NOETIX_VSAT_UTILITY_PKG.SERIAL_TIME_IN_LOCATION(MUT.SERIAL_NUMBER, MUT.TRANSACTION_ID, MUT.INVENTORY_ITEM_ID)',
      10.700003,
      'EXPR',
      'Serial time in loc. Custom field added by Zensar.',
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      'N',
      null,
      'STRING',
      'N',
      null,
      null,
      null,
      '*',
      'Y',
      'Y',
      'nemuser',
      'nemuser'
   );


INSERT INTO n_view_column_templates(
      view_label,
      query_position,
      column_label,
      table_alias,
      column_expression,
      column_position,
      column_type,
      description,
      ref_application_label,
      ref_table_name,
      key_view_label,
      ref_lookup_column_name,
      ref_description_column_name,
      ref_lookup_type,
      id_flex_application_id,
      id_flex_code,
      group_by_flag,
      format_mask,
      format_class,
      gen_search_by_col_flag,
      lov_view_label,
      lov_column_label,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      created_by,
      last_updated_by
   ) VALUES (
      'INV_Serial_Number_Trans',
      2.0,
      'MAC_Address',
      null,
      '(select NVL(msn.attribute1, msn.c_attribute4) mac from inv.mtl_serial_numbers msn where mut.serial_number = msn.serial_number and mut.inventory_item_id = msn.inventory_item_id) ',
      10.300001,
      'EXPR',
      'MAC address. Custom Field added by Zensar.',
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      'N',
      null,
      'STRING',
      'N',
      null,
      null,
      null,
      '*',
      'Y',
      'Y',
      'nemuser',
      'nemuser'
   );


INSERT INTO n_view_column_templates(
      view_label,
      query_position,
      column_label,
      table_alias,
      column_expression,
      column_position,
      column_type,
      description,
      ref_application_label,
      ref_table_name,
      key_view_label,
      ref_lookup_column_name,
      ref_description_column_name,
      ref_lookup_type,
      id_flex_application_id,
      id_flex_code,
      group_by_flag,
      format_mask,
      format_class,
      gen_search_by_col_flag,
      lov_view_label,
      lov_column_label,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      created_by,
      last_updated_by
   ) VALUES (
      'INV_Serial_Number_Trans',
      2.0,
      'Transaction_Source',
      null,
      'NOETIX_VSAT_UTILITY_PKG.GetTransSourceAll (              UPPER (                 DECODE (MATTR.TRANSACTION_SOURCE_TYPE_ID,                         ''1'', ''Purchase order'',                         ''10'', ''Physical Inventory'',                         ''103'', ''{Found *''''******''''* *''''******''''* }'',                         ''11'', ''Standard cost update'',                         ''12'', ''RMA'',                         ''120'', ''{LIFO-Transaction *''''******''''* }'',                         ''13'', ''Inventory'',                         ''14'', ''Periodic Cost Update'',                         ''140'', ''{LIFO_TEST1 *''''******''''* *''''****}'',                         ''15'', ''Layer Cost Update'',                         ''16'', ''Project Contract'',                         ''160'', ''{INCR_TEST1 *''''******''''* *''''****}'',                         ''17'', ''External Requisition'',                         ''180'', ''{Temp-Test *''''******''''* *''''*****}'',                         ''2'', ''Sales order'',                         ''201'', ''{test *''''******''''* *''''******''''* *}'',                         ''221'', ''{NL Issue to Project *''''******}'',                         ''240'', ''{Order Capture *''''******''''* *''''*}'',                         ''260'', ''PutAway'',                         ''281'', ''PICK'',                         ''3'', ''Account'',                         ''300'', ''Consignment'',                         ''320'', ''Mobile Field Service'',                         ''4'', ''Move order'',                         ''5'', ''Job or Schedule'',                         ''6'', ''Account alias'',                         ''7'', ''Internal requisition'',                         ''8'', ''Internal order'',                         ''9'', ''Cycle Count'',                         MATTR.TRANSACTION_SOURCE_TYPE_ID)),              mattr.transaction_source_id,              MPARM.ORGANIZATION_ID)',
      10.400002,
      'EXPR',
      'Transaction source. Custom Field added  by Zensar.',
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      'N',
      null,
      'STRING',
      'N',
      null,
      null,
      null,
      '*',
      'Y',
      'Y',
      'nemuser',
      'nemuser'
   );


INSERT INTO n_view_column_templates(
      view_label,
      query_position,
      column_label,
      table_alias,
      column_expression,
      column_position,
      column_type,
      description,
      ref_application_label,
      ref_table_name,
      key_view_label,
      ref_lookup_column_name,
      ref_description_column_name,
      ref_lookup_type,
      id_flex_application_id,
      id_flex_code,
      group_by_flag,
      format_mask,
      format_class,
      gen_search_by_col_flag,
      lov_view_label,
      lov_column_label,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      created_by,
      last_updated_by
   ) VALUES (
      'INV_Serial_Number_Trans',
      2.0,
      'Receipt_Number',
      null,
      '(SELECT rsh.receipt_num    FROM po.rcv_shipment_lines rsl,         po.rcv_shipment_headers rsh,         po.rcv_transactions rt   WHERE     rsh.shipment_header_id = rsl.shipment_header_id         AND rsl.shipment_line_id = rt.shipment_line_id         AND rt.transaction_id = mattr.rcv_transaction_id)',
      10.900003,
      'EXPR',
      'Receipt number. Custom field added by Zensar.',
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      'N',
      null,
      'STRING',
      'N',
      null,
      null,
      null,
      '*',
      'Y',
      'Y',
      'nemuser',
      'nemuser'
   );


INSERT INTO n_view_column_templates(
      view_label,
      query_position,
      column_label,
      table_alias,
      column_expression,
      column_position,
      column_type,
      description,
      ref_application_label,
      ref_table_name,
      key_view_label,
      ref_lookup_column_name,
      ref_description_column_name,
      ref_lookup_type,
      id_flex_application_id,
      id_flex_code,
      group_by_flag,
      format_mask,
      format_class,
      gen_search_by_col_flag,
      lov_view_label,
      lov_column_label,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      created_by,
      last_updated_by
   ) VALUES (
      'INV_Serial_Number_Trans',
      2.0,
      'Shipment_Number',
      'MATTR',
      'SHIPMENT_NUMBER',
      10.800003,
      'COL',
      'Shipment number. Custom field added by Zensar.',
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      'N',
      null,
      'STRING',
      'N',
      null,
      null,
      null,
      '*',
      'Y',
      'Y',
      'nemuser',
      'nemuser'
   );


INSERT INTO n_view_where_templates(
      view_label,
      query_position,
      where_clause_position,
      where_clause,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      created_by,
      last_updated_by
   ) VALUES (
      'INV_Serial_Number_Trans',
      2.0,
      17.0,
      'AND MATTR.COST_GROUP_ID = CCG.COST_GROUP_ID (+)',
      null,
      null,
      'Y',
      'Y',
      'nemuser',
      'nemuser'
   );

INSERT INTO n_view_where_templates(
      view_label,
      query_position,
      where_clause_position,
      where_clause,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      created_by,
      last_updated_by
   ) VALUES (
      'INV_Serial_Number_Trans',
      2.0,
      19.0,
      'AND MUT.CREATED_BY = FUSER.USER_ID(+)',
      null,
      null,
      'Y',
      'Y',
      'nemuser',
      'nemuser'
   );

INSERT INTO n_view_where_templates(
      view_label,
      query_position,
      where_clause_position,
      where_clause,
      profile_option,
      product_version,
      include_flag,
      user_include_flag,
      created_by,
      last_updated_by
   ) VALUES (
      'INV_Serial_Number_Trans',
      2.0,
      18.0,
      'AND MATTR.COST_GROUP_ID = CQL.COST_GROUP_ID (+) AND MATTR.INVENTORY_ITEM_ID = CQL.INVENTORY_ITEM_ID (+) AND MATTR.ORGANIZATION_ID = CQL.ORGANIZATION_ID (+)',
      null,
      null,
      'Y',
      'Y',
      'nemuser',
      'nemuser'
   );





COMMIT;
SET DEFINE ON;
WHENEVER SQLERROR CONTINUE;

@utlspoff